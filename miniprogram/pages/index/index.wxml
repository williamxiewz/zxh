<!--index.wxml-->
<view class="container">
  <view class="container-r" style="width:100%;display: block;">
    <image src=" {{connected?'../../images/ctrl_bg.png':'../../images/ctrl_bg_disabled.png' }}" style="position:absolute;width:100%;" mode="widthFix" />

    <view class="container-h" style="width:100%;height:96rpx;align-items:center;position: absolute;">
      <image src="../../images/logo.png" style="width: 85rpx;  margin-left: 20rpx;" mode="widthFix"></image>
      <view style="flex:1;"/>
      <view>宗申智控</view>
      <view style="flex:1;"/>
      <image src="../../images/ic_scancode.png" style="height:74rpx;margin-right:20rpx;" mode="heightFix" bindtap="scanCode" />
    </view>
    <view class="container-h" style="width:100%;position: absolute; margin-top: 100rpx;">
      <view style="flex:1;"/>
      <image src="{{bluetoothAvailable? '../../images/ic_bluetooth_blue.png':'../../images/ic_bluetooth_red.png'}}" style="height:74rpx; margin-right: 20rpx;" mode="heightFix"/>
     </view>

   
    <!-- 白色背景 -->
    <view class="container-v bottom_bg" style="position:absolute;height: 200rpx;margin-top:700rpx;margin-left: 2.5%;"/>
    <!-- 电车图片 -->
    <image src="../../images/img_moto_normal.png" style="position:absolute;width:100%;margin-top:190rpx;padding: 0px 10rpx;" mode="widthFix"/>

    <!-- 白色背景 -->
    <view class="container-v bottom_bg" style="position:absolute;height: 400rpx;margin-top:880rpx;margin-left: 2.5%;" />

    <view class="container-v" style="margin-top: 960rpx;z-index: 2;">
      <!-- iOS margin-top 不好使，这里使用View填充一下 -->
      <!-- <view wx:if="{{platform=='ios'}}" style="height: 160rpx;width: 100%;"></view> -->
      <!-- 未连接设备时的4个功能按键 -->
      <view class="container-r" style="display:{{connected? 'none':'flex'}};">
        <view class="container-h bottom_bg" style="position: absolute;">
          <!-- <view style="flex: 0.5;"></view> -->
          <view class="container-r btn_lay">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" /> -->
            <image src="../../images/btn_lock_disabled.png" class="btn_nor" mode="heightFix" />
          </view>
          <view class="container-r btn_lay">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" /> -->
            <image src="../../images/btn_unlock_disabled.png" class="btn_nor" mode="heightFix" />
          </view>
          <view class="container-r btn_lay">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" /> -->
            <image src="../../images/{{is_kzb?'btn_kzb_disabled':'btn_call_disabled'}}.png" class="btn_nor" mode="heightFix" />
          </view>
          <view class="container-r btn_lay">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" /> -->
            <image src="../../images/btn_mute_disabled.png" class="btn_nor" mode="heightFix" />
          </view>
          <!-- <view style="flex: 0.5;"></view> -->
        </view>
      </view>
      <!-- 连接设备时的五个功能按键 -->
      <view class="container-r" style="display:{{connected? 'flex':'none'}};">
        <view class="container-h bottom_bg" style="position: absolute;">
          <!-- <view style="flex: 0.5;"></view> -->
          <!-- 上锁 -->
          <view class="container-r btn_lay">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="1" /> -->
            <image src="{{selectedBtn === 1 ? '../../images/btn_lock_active.png' : '../../images/btn_lock.png'}}" class="btn_nor" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="1" />
          </view>
          <!-- 解锁 -->
          <view class="container-r btn_lay">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="2" /> -->
            <image src="{{selectedBtn === 2 ? '../../images/btn_unlock_active.png' : '../../images/btn_unlock.png'}}" class="btn_nor" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="2" />
          </view>
          <!-- 寻车 -->
          <view class="container-r btn_lay" style="display: {{is_kzb?'none':'flex'}};">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="3" /> -->
            <image src="{{selectedBtn === 3 ? '../../images/btn_call_active.png' : '../../images/btn_call.png'}}" class="btn_nor" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="3" />
          </view>
          <!-- 开坐包 -->
          <view class="container-r btn_lay" style="display: {{is_kzb?'flex':'none'}};">
            <image src="{{selectedBtn === 3 ? '../../images/btn_kzb_active.png' : '../../images/btn_kzb.png'}}" class="btn_nor" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="3" />
          </view>
          <!-- 静音 -->
          <view class="container-r btn_lay">
            <!-- <image src="../../images/btn_bg.png" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="4" /> -->
            <image src="{{selectedBtn === 4 ? '../../images/btn_mute_active.png' : '../../images/btn_mute.png'}}" class="btn_nor" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="4" />
          </view>
          <!-- <view style="flex: 0.5;"></view> -->
        </view>
      </view>
      <!--  -->
      <view class="container-r" style="width: 100%;margin-top: 120rpx;">
        <view class="container-h bottom_bg" style="position: absolute;">
          <!-- <view style="flex: 0.5;"></view> -->
          <text class="btn_label" style="color: {{connected&&selectedBtn==1?'black':'gray'}};">上锁</text>
          <text class="btn_label" style="color: {{connected&&selectedBtn==2?'black':'gray'}};">解锁</text>
          <text class="btn_label" style="color: {{connected&&selectedBtn==3?'black':'gray'}};">{{is_kzb?'开坐包':'寻车'}}</text>
          <text class="btn_label" style="color: {{connected&&selectedBtn==4?'black':'gray'}};">静音</text>
          <!-- <view style="flex: 0.5;"></view> -->
        </view>
      </view>
    </view>

    <view class="container-r" style="margin-top: 140rpx;z-index: 2;">
      <swipe-button style="width: 80%;position: absolute;" bindvaluechange="onStartValueChange" 
      enabled="{{connected}}" on="{{connected&&selectedBtn==0}}"/>
    </view>
  </view>

</view>