<!--index.wxml-->
<view class="container">
  <view class="container-r" style="width:100%;display: block;">
    <!-- 标题栏 -->
    <view class="container-h" style="position:absolute;width:100%;height:96rpx;align-items:center;">
      <image src="../../images/{{bluetoothAvailable? 'ic_bluetooth_blue':'ic_bluetooth_red'}}.png" style="height:50rpx;margin-left:20rpx;z-index: 999;" mode="heightFix"></image>
      <view style="flex:1;"></view>
      <image src="../../images/ic_scancode.png" style="height:50rpx;margin-right:20rpx;z-index: 999;" mode="heightFix" bindtap="scanCode"></image>
      <!-- <image src="{{RSSI_Image}}" style="height:30rpx;margin-right:20rpx;display: none;" mode="heightFix"></image> -->
    </view>

    <image src="../../images/ctrl_bg.png" style="position:absolute;width:100%;" mode="widthFix"></image>
    <!-- logo -->
    <image src="../../images/{{connected?'oval_connected':'oval_unconnected'}}.png" style="position:absolute;width:60%;margin-top:120rpx;margin-left:0px;" mode="widthFix" bindtap="test"></image>
    <image src="../../images/img_moto_normal.png" style="position:absolute;width:78%;margin-top:150rpx;margin-left:95px;float: right;" mode="widthFix" bindtap="test"></image>
    <!-- 调试不同连接状态下的UI -->
    <!-- <switch type="swtich" checked="{{connected}}" bindchange="testConnectionState" style="margin-left: 100rpx;margin-top: 20rpx;">连接状态模拟</switch> -->
  </view>

  <view class="container-v" style="margin-top: 960rpx;">
    <!-- 未连接设备时的4个功能按键 -->
    <view class="container-r" style="display:{{connected? 'none':'flex'}};">
      <view class="container-h" style="position: absolute;width: 100%;">
        <!-- <view style="flex: 0.5;"></view> -->
        <!-- {{selectedBtn === 1 ? 'btn_lay':'btn_lay_selected'}} -->
        <view class="btn_layout_horizontal_padding"></view>
        <view class="container-r btn_lay">
          <image src="../../images/btn_lock_disabled.png" class="btn_bg" mode="heightFix" />
        </view>
        <view class="container-r btn_lay">
          <image src="../../images/btn_unlock_disabled.png" class="btn_bg" mode="heightFix" />
        </view>
        <view class="container-r btn_lay">
          <image src="../../images/{{isCall?'btn_call_disabled':'btn_open_disabled'}}.png" class="btn_bg" mode="heightFix" />
        </view>
        <view class="container-r btn_lay">
          <image src="../../images/btn_mute_disabled.png" class="btn_bg" mode="heightFix" />
        </view>
        <view class="btn_layout_horizontal_padding"></view>
      </view>
    </view>
    <!-- 连接设备时的五个功能按键 -->
    <view class="container-r" style="display:{{connected? 'flex':'none'}};">
      <view class="container-h" style="position: absolute;width: 100%;">
        <view class="btn_layout_horizontal_padding"></view>
        <!-- 上锁 -->
        <view class="container-r btn_lay">
          <image src="{{selectedBtn === 1 ? '../../images/btn_lock_active.png' : '../../images/btn_lock.png'}}" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="1" />
        </view>
        <!-- 解锁 -->
        <view class="container-r btn_lay">
          <image src="{{selectedBtn === 2 ? '../../images/btn_unlock_active.png' : '../../images/btn_unlock.png'}}" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="2" />
        </view>
        <!-- 寻车 -->
        <view class="container-r btn_lay">
          <image src="../../images/{{callBtnConnectedImage}}" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="3" />
        </view>
        <!-- 静音 -->
        <view class="container-r btn_lay">
          <image src="{{selectedBtn === 4 ? '../../images/btn_mute_active.png' : '../../images/btn_mute.png'}}" class="btn_bg" mode="heightFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="4" />
        </view>
        <view class="btn_layout_horizontal_padding"></view>
      </view>
    </view>

    <!-- 启动按钮 -->
    <view class="container-r" style="margin-top: 220rpx;">
      <image src="{{connected && selectedBtn === 0? '../../images/btn_start_bg.png' : '../../images/btn_start_bg_disabled.png'}}" style="position: absolute;width: 96%;" mode="widthFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="0"></image>
      <view class="container-h" style="position: absolute;align-items: center;" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="0">
      </view>
    </view>
  </view>
</view>