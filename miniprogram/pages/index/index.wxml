<!--index.wxml-->
<view class="container-r">
  <view class="container-v" style="width:100%;height: 100%;">
    <image src="../../images/ctrl_top_bg.jpg" style="position:absolute;width:100%;height: 100%;" mode="widthFix"></image>      
  </view>
  <view class="container-v" style="position: absolute;width: 100%;height: 100%;margin-top: {{statusBarHeight}}px;">
    <view class="container-v" style="width: 100%;">
      <view style="width:100%;height:54rpx;"></view>
      <!-- 标题栏 -->
      <view class="container-h" style="width:100%;height:48rpx;align-items:center;">
        <image src="../../images/logo.png" style="width:30%;margin-left: 30rpx;" mode="widthFix"></image>
        <view style="flex:1;"></view>
        <!-- <image src="{{RSSI_Image}}" style="height:30rpx;margin-right:20rpx;" mode="heightFix"></image> -->
      </view>
    </view>

    <view class="container-r" style="width:100%;">
      <view class="container-h" style="width: 100%;position: absolute;margin-top: 220rpx;">
        <view style="flex:1;"></view>
        <view class="container-v">
          <image src="{{bluetoothAvailable? '../../images/ic_bluetooth_blue.png':'../../images/ic_bluetooth_red.png'}}" style="height:100rpx;margin-right:30rpx;margin-top: 30rpx;" mode="heightFix"></image>
          <image src="../../images/ic_scancode.png" style="height:100rpx;margin-right:30rpx;margin-top: 30rpx;" mode="heightFix" bindtap="scanCode"></image>
        </view>
      </view>
      <view class="container-v" style="width:100%;margin-top:60rpx;align-items: center;">
        <!-- 63*68 -->
        <image src="{{imageOfState}}" style="display: {{isStart ? 'none':'block'}};position:absolute;width:234rpx;height:47rpx;"></image>
        <image src="{{connected && isStart ? '../../images/img_moto.png':'../../images/img_moto_not_started.png'}}" style="position:absolute;width:68%;margin-top:130rpx;" mode="widthFix" bindtap="test">
        </image>
      </view>
    </view>
    <!-- 测试不同连接状态时的UI -->
    <!-- <switch bindchange="testConnectionState" checked="{{connected}}"></switch> -->

    <!-- 未连接设备时的五个功能按键 -->
    <view class="container-r" style="margin-top:{{bottomLayoutMatginTop}}rpx;display:{{connected? 'none':'flex'}};">
      <view class="container-v" style="width:{{bottomLayoutWidth}}%;position:absolute;padding-left:2%;">
        <view class="container-h">
          <view class="container-r" style="width:40%;">
            <image src="../../images/btn_lt_disabled.png" style="width:100%;" mode="widthFix"></image>
            <image src="../../images/ic_lock.png" style="width:121rpx;height:50rpx;position: absolute;margin-left: -40rpx;"/>
          </view>
          <view style="width:18%;"></view>
          <view class="container-r" style="width:40%;">
            <image src="../../images/btn_rt_disabled.png" style="width:100%;" mode="widthFix"></image>
            <image src="../../images/ic_unlock.png" style="width:121rpx;height:50rpx;position: absolute;margin-right: -40rpx;"/>
          </view>
        </view>
        <view class="container-h">
          <view class="container-r" style="width:40%;">
            <image src="../../images/btn_lb_disabled.png" style="width:100%;" mode="widthFix"></image>
            <image src="../../images/{{isCall?'ic_call':'ic_open'}}.png" style="width:138rpx;height:45rpx;position: absolute;margin-left: -30rpx;"/>
          </view>
          <view style="width:18%;"></view>
          <view class="container-r" style="width:40%;">
            <image src="../../images/btn_rb_disabled.png" style="width:100%;" mode="widthFix"></image>
            <image src="../../images/ic_mute.png" style="width:121rpx;height:40rpx;position: absolute;margin-right: -40rpx;"/>
          </view>
        </view>
      </view>
      <view class="container-r">
        <image src="../../images/btn_start_disabled.png" style="width:240rpx;position:absolute;height: auto;" mode="widthFix"></image>
        <image src="../../images/ic_start.png" style="width:60rpx;height:50rpx;position: absolute;"/>
      </view>
    </view>

    <!-- 连接设备时的五个功能按键 -->
    <view class="container-r" style="margin-top:{{bottomLayoutMatginTop}}rpx;display:{{connected? 'flex':'none'}};">
      <view class="container-v" style="width:{{bottomLayoutWidth}}%;position:absolute;padding-left:2%;">
        <view class="container-h">
          <view class="container-r" style="width:40%;">
            <image src="{{imageOfLtBtn}}" style="width:100%;" mode="widthFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="1"></image>
            <image src="../../images/ic_lock.png" style="width:121rpx;height:50rpx;position: absolute;margin-left: -40rpx;" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="1"/>
          </view>
          <view style="width:18%;"></view>
          <view class="container-r" style="width:40%;">
            <image src="{{imageOfRtBtn}}" style="width:100%;" mode="widthFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="2"></image>
            <image src="../../images/ic_unlock.png" style="width:121rpx;height:50rpx;position: absolute;margin-right: -40rpx;" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="2"/>
          </view>
        </view>
        <view class="container-h" style="margin-top:3px;">
          <view class="container-r" style="width:40%;">
          <image src="{{imageOfLbBtn}}" style="width:100%;" mode="widthFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="3"></image>
            <image src="../../images/{{isCall?'ic_call':'ic_open'}}.png" style="width:138rpx;height:45rpx;position: absolute;margin-left: -30rpx;" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="3"/>
          </view>
          <view style="width:18%;"></view>
          <view class="container-r" style="width:40%;">
            <image src="{{imageOfRbBtn}}" style="width:100%;" mode="widthFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="4"></image>
            <image src="../../images/ic_mute.png" style="width:121rpx;height:40rpx;position: absolute;margin-right: -40rpx;" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="4"/>
          </view>
        </view>
      </view>
      <view class="container-r">
        <image src='{{imageOfStartBtn}}' style="width:240rpx;position:absolute;height: auto;" mode="widthFix" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="0"></image>
        <image src="../../images/ic_start.png" style="width:60rpx;height:50rpx;position: absolute;" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" data-btnindex="0"/>
      </view>
    </view>

  </view>
</view>